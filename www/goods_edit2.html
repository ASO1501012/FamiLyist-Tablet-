<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="components/GoodsManager.js"></script>
    <script src="components/LocalDBManager.js"></script>
    
    <!--ドロワーメニュー関連-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.1.0/css/drawer.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.1.3/iscroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.1.0/js/drawer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        function editGoodsBtnClick(goodsID){
            var goodsManagerInstance = new GoodsManager();
            var localDBManagerInstance = new LocalDBManager();
            var tabletID = localDBManagerInstance.selectTabletID();
            goodsManagerInstance.editGoods(tabletID,goodsID,document.getElementById("Gname").value,document.getElementById('registerCategoryID').value);
        }
        function deleteGoodsBtnClick(goodsID){
            var goodsManagerInstance = new GoodsManager();
            var localDBManagerInstance = new LocalDBManager();
            var tabletID = localDBManagerInstance.selectTabletID();
            goodsManagerInstance.deleteGoods(tabletID,goodsID);
        }
    </script>
</head>
<body class="drawer drawer--left">
<button type="button" class="drawer-toggle drawer-hamburger" id="drawer_button">
            <span class="sr-only">toggle navigation</span>
            <span class="drawer-hamburger-icon"></span>
        </button>
        <nav class="drawer-nav" role="navigation">
        <!-- ここからドロップダウンの中身 -->
        <ul class="drawer-menu">
            <li class="item"><a class="drawer-menu-item" href="./index.html" >タブレットID確認</a></li>
            <li class="item"><a class="drawer-menu-item" href="./list2.html" >リストに追加</a></li>
            <li><a class="drawer-menu-item" href="#" ></a></li>
            <li class="item"><a class="drawer-menu-item" href="./goods_register.html" >商品登録</a></li>
            <li class="item"><a class="drawer-menu-item" href="./goods_edit.html" >商品編集</a></li>
            <li class="item"><a class="drawer-menu-item" href="./shop_register.html" >お店の登録</a></li>
            <li class="item"><a class="drawer-menu-item" href="./shop_edit.html" >お店の編集</a></li>
            <li><a class="drawer-menu-item" href="#" ></a></li>
            <li class="item"><a class="drawer-menu-item" href="#" >ヘルプ</a></li>
            <li class="item"><a class="drawer-menu-item" href="#" >お問い合わせ</a></li>
        </ul>
        <!-- ここまでドロップダウンの中身 -->
        </nav>
    <div id="header">
        <h1 id="title" style="margin:auto">商品を編集</h1>
        <a href="javascript:history.back()"><img class="upicon2" src="./img/back.png"></a>
    </div>
    <div id="menu">
    </div>
    <div class="register">
        <form id=form>
            <div class="goodsname" id="goodsName">
            </div>
            <script>
                var urlPrm = {};
                var urlSearch = location.search.substring(1).split('&');
                var goodsID = urlSearch[0];
                var goodsName = urlSearch[1];
                var htmlText;
                goodsName = decodeURIComponent(goodsName);
                htmlText =　'<div id="Name5">品名</div>'+
                            '<div id="text"><input type="text" id="Gname" name="name" size="40" placeholder="'+goodsName+'"></div>';
                var parent_object = document.getElementById("goodsName");
                parent_object.innerHTML = htmlText;
            </script>
            <div class="category5">
                <div id="cate">カテゴリ</div>
                <div id="catename">
                    <select name="category" id="registerCategoryID">
                        <option value=1>肉類</option>
                        <option value=2>魚介類</option>
                        <option value=3>野菜類</option>
                        <option value=4>果物</option>
                        <option value=5>米類</option>
                        <option value=6>パン類</option>
                        <option value=7>麺類</option>
                        <option value=8>缶詰類</option>
                        <option value=9>粉類</option>
                        <option value=10>飲料水</option>
                        <option value=11>お酒類</option>
                        <option value=12>調味料</option>
                        <option value=13>お菓子</option>
                        <option value=14>惣菜</option>
                        <option value=15>冷凍食品</option>
                        <option value=16>保存食品</option>
                        <option value=17>その他</option>
                    </select>
                </div>
            </div>
            <div class="submit" id="submit">
            </div>
            <script>
                var urlPrm = {};
                var urlSearch = location.search.substring(1).split('&');
                var goodsID = urlSearch[0];
                var goodsName = urlSearch[1];
                var htmlText;
                goodsName = decodeURIComponent(goodsName);
                var htmlText;
                htmlText =　'<div id="Delete"><input type="button" value="削除" onClick="deleteGoodsBtnClick('+goodsID+')" /></div>'+
                            '<div id="OK2"><input type="button" value="OK" onClick="editGoodsBtnClick('+goodsID+')" /></div>';
                var parent_object = document.getElementById("submit");
                parent_object.innerHTML = htmlText;
            </script>
        </form>
    </div>
    <!-- ドロワーメニュー実行script -->
     <script>
        $(document).ready(function() {
            $('.drawer').drawer();
        });
    </script>
</body>
</html>